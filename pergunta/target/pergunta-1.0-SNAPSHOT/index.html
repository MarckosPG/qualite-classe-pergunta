<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Perguntas</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/style.css">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <body>
        <center>
            <form method="post" class="form">
                <div class="pesquisa">
                    <div class="cabecalho">
                        <div class="logo">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRNbw29Fez1IoPG6M45QGCqRKEzvLTzYSHRFg&usqp=CAU">
                        </div>
                        <div class="texto-curto">
                            Minha Pesquisa
                        </div>
                        <label class="pag-ind" style="color: gray; font-size: 10px;"></label>
                    </div>

                    <div class="pagina pagina-0">
                        <div class="sessao">
                            <div class="titulo-sessao">
                                Bem vindo a Pesquisa!
                            </div>
                            <img src="img/icon.svg" style="width: 100%;">
                        </div>
                    </div>

                    <div class="pagina pagina-1">

                        <div class="sessao">
                            <div class="titulo-sessao">
                                Seus dados
                            </div>
                            <hr>
                            <div class="list-perguntas">
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual seu nome ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" name="nome" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual seu sobrenome ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" name="sobrenome" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Quantos anos você tem ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" name="idade" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                            </div>
                        </div>

                        <div class="sessao">
                            <div class="titulo-sessao">
                                Seus dados físicos
                            </div>
                            <hr>
                            <div class="list-perguntas">
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual seu gênero ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual seu peso ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual sua altura ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="pagina pagina-2">

                        <div class="sessao">
                            <div class="titulo-sessao">
                                Outros dados
                            </div>
                            <hr>
                            <div class="list-perguntas">
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual sua etnia ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual sua religião ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Você é brasileiro ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                            </div>
                        </div>

                        <div class="sessao">
                            <div class="titulo-sessao">
                                Outros dados
                            </div>
                            <hr>
                            <div class="list-perguntas">
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Você ja tirou a carteira ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Você mora em casa própria ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual sua renda mensal ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="pagina pagina-3">

                        <div class="sessao">
                            <div class="titulo-sessao">
                                Outros dados
                            </div>
                            <hr>
                            <div class="list-perguntas">
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual sua etnia ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual sua religião ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Você é brasileiro ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                            </div>
                        </div>

                        <div class="sessao">
                            <div class="titulo-sessao">
                                Outros dados
                            </div>
                            <hr>
                            <div class="list-perguntas">
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Você ja tirou a carteira ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Você mora em casa própria ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                                <div class="pergunta-item">
                                    <div class="pergunta-texto">Qual sua renda mensal ?</div>
                                    <p class="pergunta-explicacao">explicaçao</p>
                                    <input type="text" class="pergunta-resposta" placeholder="Sua resposta" maxlength="50">
                                    <div class="counter-pesquisa">50</div>
                                    <div class="pergunta-lgpd"></div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="controles">
                        <div class="progress-bar"></div>
                        <div class="buttons">
                            <div class="previous btn" style="display: none;">
                                <i class="fa fa-arrow-left" aria-hidden="true"></i>
                            </div>
                            <div class="pagination" style="display: none;"></div>
                            <div class="next btn">
                                <i class="fa fa-arrow-right" aria-hidden="true"></i>
                            </div>
                            <div class="send btn" style="display: none;">
                                <i class="fa fa-paper-plane" aria-hidden="true"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </form>    
        </center>
    </body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="js/main.js"></script>

<script>

    var pageIndex = 0;
    var pageCount = 3;
    var flagPages = {
        flag1: 1,
        flag2: 1
    };
    var logo = 1;

    setPage(pageIndex);

    $(".previous").click(function () {
        if(pageIndex > 0){
            pageIndex--;
            setPage(pageIndex, );
        }
    });

    $(".next").click(function () {
        if(pageIndex < pageCount){
            pageIndex++;
            setPage(pageIndex);
        }
    });

    $(".send").click(function () {
        dados = JSON.stringify($('.form').serializeArray());
        console.log(dados);
    });

    function setPage (page) {
        $(".pagina").hide();
        $(".pagina-"+pageIndex).show('fast');
        if(logo == 0){
            $(".logo").hide();
        }else if(logo == 1){
            $(".logo").show();
        }
        if(pageIndex <= 0){
            $(".pag-ind").html("");
        }else{
            $(".pag-ind").html("&nbsp;&nbsp;&nbsp;(Página "+pageIndex+")");
        }
        update();
    }

    function update () {
        if(pageCount > 1){
            $(".pagination").show();
        }else{
            $(".pagination").hide();
        }
        if(pageIndex <= 0){
            $(".pagination").html("");
        }else{
            setFlagsNumbersOfPage(flagPages.flag1, flagPages.flag2);
        }
        if(pageIndex < 1){
            $(".previous").hide();
        }else{
            $(".previous").show();
        }
        if(pageIndex >= pageCount){
            $(".pagination").html("");
            $(".next").hide();
            $(".send").show();
        }else{
            $(".next").show();
            $(".send").hide();
        }
    }

    function setFlagsNumbersOfPage (flag1, flag2) {
        if(flag1 == 0 && flag2 == 0){
            $(".pagination").html("");
        }else if(flag1 == 1 && flag2 == 0){
            $(".pagination").html(pageIndex);
        }else if(flag1 == 1 && flag2 == 1){
            $(".pagination").html(pageIndex+"/"+pageCount);
        }else{
            $(".pagination").html("");
        }
    }

</script>
